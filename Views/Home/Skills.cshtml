@{
    ViewData["Title"] = "Skills";
}

<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container-fluid">
            
        <!-- search section -->
        <div class="row justify-content-center my-2 pt-5">
            <div class="col-md-12">
                <form class="d-flex" role="search" id="searchForm">
                    <button type="button" id="addSkillButton" class="btn btn-dark me-2 " style="margin-right:10rem" data-toggle="modal" data-target="#addSkillsModal" >
                        Add
                    </button>
                    <input class="form-control me-2 px-4 py-1" type="search" placeholder="Search" aria-label="Search query" id="searchInput">
                    <button class="btn btn-outline-primary me-2 px-4 py-1" type="submit" aria-label="Submit search" id="searchButton" >
                        Search
                    </button>
                   
                </form>
            </div>
        </div>

        <!-- grid to display data -->
        <div class="row justify-content-center my-2 pt-5 " >
            <div class="row justify-content-center text-center bg-dark text-white p-2 border-bottom">
                <div class="col-12 col-md-3 py-2 border-end">Skill Id</div>
                <div class="col-12 col-md-3 py-2 border-end">Skill Name</div>
                <div class="col-12 col-md-3 py-2 border-end">Status</div>
                <div class="col-12 col-md-3 py-2">Update</div>
            </div>
            <div class="row justify-content-center text-center p-2 skill-row">
                <div class="col-12 col-md-3 py-2 border-end">1</div>
                <div class="col-12 col-md-3 py-2 border-end">HTML</div>
                <div class="col-12 col-md-3 py-2 border-end">Active</div>
                <div class="col-12 col-md-3 py-2">
                    <i class="fas fa-edit fa-2x edit-icon" style="cursor:pointer"></i>
                </div>
            </div>
            <div class="row justify-content-center text-center p-2 skill-row">
                <div class="col-12 col-md-3 py-2 border-end">2</div>
                <div class="col-12 col-md-3 py-2 border-end">CSS</div>
                <div class="col-12 col-md-3 py-2 border-end">Inactive</div>
                <div class="col-12 col-md-3 py-2">
                    <i class="fas fa-edit fa-2x edit-icon" style="cursor:pointer"></i>
                </div>
            </div>
        </div>

    </div>


    <!-- Modal for adding skills -->
    <div class="modal fade" id="addSkillModal" tabindex="-1" role="dialog" aria-labelledby="addSkillsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addSkillsModalLabel">Add Skill</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="addCloseModelBtn">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Form to add skills -->
                    <form id="addSkillForm">
                        <div class="form-group">
                            <label for="skillName">Skill Name</label>
                            <input type="text" class="form-control" id="skillName" placeholder="Enter skill name">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="addCloseBtn">Close</button>
                    <button type="button" class="btn btn-success" id="saveSkillButton">Save Skill</button>
                </div>
            </div>
        </div>
    </div>

    <!--modal for updating skills-->
    <div class="modal fade" id="editSkillModal" tabindex="-1" role="dialog" aria-labelledby="editSkillsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editSkillsModalLabel">Update Skill</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="editCloseModelBtn">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Form to edit skills -->
                    <form id="editSkillForm">
                        <div class="form-group">
                            <label for="editSkillName">Edit Skill Name</label>
                            <input type="text" class="form-control" id="editSkillName" placeholder="Edit skill name">
                        </div>
                        <div class="form-group">
                            <label for="editSkillStatus">Edit Skill Status</label>
                            <select class="form-select" id="editSkillStatus">
                                <option value="Active" >Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="editCloseBtn">Close</button>
                    <button type="button" class="btn btn-success" id="saveSkillButton">Save Skill</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!--Add skills-->
    <script>
        $(document).ready(function () {
            // Add Skills button click event
            $('#addSkillButton').click(function () {
                // Load the modal content via AJAX
                $('#addSkillModal').modal('show');
            });
            $('#addCloseModelBtn').click(function () {
                $('#addSkillModal').modal('hide'); // Hide the modal
            });
            $('#addCloseBtn').click(function () {
                $('#addSkillModal').modal('hide'); // Hide the modal
            });
        });
    </script>

    <!--Search skills-->
    <script>
        $(document).ready(function () {
            $('#searchInput').on('input', function () {
                var searchQuery = $(this).val().toLowerCase();
                $('.skill-row').each(function () {
                    var skillName = $(this).find('.col-md-3:nth-child(2)').text().toLowerCase();
                    if (skillName.includes(searchQuery)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });
            });
        });
    </script>

    <!--Update skills-->
    <script>
        $(document).ready(function () {
            // Event listener for clicking on the edit button
            $(".edit-icon").click(function () {
                // Get values from the row
                var skillName = $(this).closest(".skill-row").find(".col-md-3:nth-child(2)").text().trim();
                var skillStatus = $(this).closest(".skill-row").find(".col-md-3:nth-child(3)").text().trim();

                // Set values to modal fields
                $("#editSkillName").val(skillName);
                $("#editSkillStatus").val(skillStatus);
                // Show modal
                $("#editSkillModal").modal('show');
            });

            // Save changes button functionality
            $("#saveSkillButton").click(function () {
                // Retrieve values from modal fields
                var editedSkillName = $("#editSkillName").val();
                var editedSkillStatus = $("#editSkillStatus").val();

                // Update values in the row (you can add this part)
                // $(".modal").modal('hide'); // Hide modal
                // Here you can update the row with the new values
            });
            $('#editCloseModelBtn').click(function () {
                $('#editSkillModal').modal('hide'); // Hide the modal
            });
       
            $('#editCloseBtn').click(function () {
                $('#editSkillModal').modal('hide'); // Hide the modal
            });
        });
    </script>
</body>
</html>
